# yaml-language-server: $schema=https://raw.githubusercontent.com/defenseunicorns/zarf/main/zarf.schema.json
kind: ZarfPackageConfig
metadata:
  name: additional-kyverno-exceptions
  version: "0.0.1"
  architecture: amd64

components:
  - name: sonarqube-keyclaok-idam-kyverno-policy-exception
    required: true
    manifests:
      - name: sonarqube-idam-kyverno-policy-exception
        namespace: keycloak
        files:
          - sonarqube/non-root.yaml
  - name: sonarqube-kyverno-policy-exception
    required: true
    manifests:
      - name: sonarqube-idam-kyverno-policy-exception
        namespace: sonarqube
        files:
          - sonarqube/external-name.yaml
  - name: jira-kyverno-policy-exception
    required: true
    manifests:
      - name: jira-kyverno-policy-exception
        namespace: jira
        files:
          - jira/non-root.yaml
          - jira/external-name.yaml
  - name: gitlab-kyverno-policy-exceptions
    required: true
    manifests:
      - name: gitlab-kyverno-policy-exceptions
        namespace: gitlab
        files:
          - gitlab/non-root-group.yaml
          - gitlab/external-name.yaml
  - name: mattermost-kyverno-policy-exceptions
    required: true
    manifests:
      - name: mattermost-kyverno-policy-exceptions
        files:
          - mattermost/external-name.yaml
  - name: confluence-kyverno-policy-exceptions
    required: true
    manifests:
      - name: confluence-kyverno-policy-exceptions
        files:
          - confluence/external-name.yaml
  - name: keycloak-kyverno-policy-exceptions
    required: true
    manifests:
      - name: keycloak-kyverno-policy-exceptions
        files:
          - keycloak/external-name.yaml
          - keycloak/non-root-group.yaml
  - name: nexus-kyverno-policy-exceptions
    required: true
    manifests:
      - name: nexus-kyverno-policy-exceptions
        files:
          - nexus/external-name.yaml
